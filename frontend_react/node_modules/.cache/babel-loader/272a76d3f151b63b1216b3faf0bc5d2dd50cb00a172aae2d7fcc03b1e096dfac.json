{"ast":null,"code":"var _jsxFileName = \"D:\\\\moy_silant-main\\\\frontend_react\\\\src\\\\Components\\\\Tables\\\\MachineTable.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Table, Form, Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MainAPI from \"../../API/MainAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MachineTable = () => {\n  _s();\n  const dispatch = useDispatch();\n  const machine_info = useSelector(state => state.machine_info);\n  const current_user = useSelector(state => state.current_user);\n  async function save_machine() {\n    let result = await MainAPI.post_data(current_user.token, `service/api/update_machine/`, machine_info);\n    dispatch({\n      type: \"SHOW_INFO\",\n      payload: {\n        show: true,\n        text: result.result\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [machine_info && /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0425\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: machine_info && Object.entries(machine_info).map((key, value) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            width: \"35%\",\n            children: key[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 1,\n              value: key[1],\n              disabled: current_user.role !== 'manager',\n              onChange: e => dispatch({\n                type: \"UPDATE_MACHINE_INFO\",\n                key: key[0],\n                value: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 29\n          }, this)]\n        }, key[0], true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 17\n    }, this), current_user.role === 'manager' && /*#__PURE__*/_jsxDEV(Button, {\n      type: \"button\",\n      variant: \"outline-primary\",\n      className: \"m-2\",\n      onClick: () => save_machine(),\n      children: \" \\u2705 \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(MachineTable, \"iQX2uRN01E7RtNJN+ptuwi1IzuY=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = MachineTable;\nexport default MachineTable;\nvar _c;\n$RefreshReg$(_c, \"MachineTable\");","map":{"version":3,"names":["React","useEffect","Table","Form","Button","useDispatch","useSelector","MainAPI","MachineTable","dispatch","machine_info","state","current_user","save_machine","result","post_data","token","type","payload","show","text","Object","entries","map","key","value","role","e","target"],"sources":["D:/moy_silant-main/frontend_react/src/Components/Tables/MachineTable.js"],"sourcesContent":["import React, {useEffect} from 'react';\nimport {Table, Form, Button} from \"react-bootstrap\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport MainAPI from \"../../API/MainAPI\";\n\nconst MachineTable = () => {\n    const dispatch = useDispatch()\n    const machine_info = useSelector(state => state.machine_info)\n    const current_user = useSelector(state => state.current_user)\n\n    async function save_machine() {\n        let result = await MainAPI.post_data(current_user.token, `service/api/update_machine/`, machine_info)\n        dispatch({type: \"SHOW_INFO\", payload: {show: true, text: result.result}})\n    }\n\n    return (\n        <>\n            {machine_info &&\n                <Table striped bordered hover responsive>\n                    <thead>\n                    <tr>\n                        <th>Характеристика</th>\n                        <th>Значение</th>\n                    </tr>\n                    </thead>\n\n                    <tbody>\n                    {machine_info && Object.entries(machine_info).map((key, value) =>\n                        <tr key={key[0]}>\n                            <td width='35%'>{key[0]}</td>\n                            <td>\n                                <Form.Control\n                                    as=\"textarea\"\n                                    rows={1}\n                                    value={key[1]}\n                                    disabled={current_user.role !== 'manager'}\n                                    onChange={\n                                        (e) => dispatch({\n                                            type: \"UPDATE_MACHINE_INFO\",\n                                            key: key[0],\n                                            value: e.target.value\n                                        })\n                                    }\n                                />\n                            </td>\n                        </tr>\n                    )}\n                    </tbody>\n                </Table>\n            }\n            {current_user.role === 'manager' &&\n                <Button type='button' variant='outline-primary' className='m-2' onClick={() => save_machine()}> ✅\n                    Сохранить</Button>\n            }\n        </>\n    );\n};\n\nexport default MachineTable;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,SAAQC,KAAK,EAAEC,IAAI,EAAEC,MAAM,QAAO,iBAAiB;AACnD,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,OAAOC,OAAO,MAAM,mBAAmB;AAAC;AAAA;AAExC,MAAMC,YAAY,GAAG,MAAM;EAAA;EACvB,MAAMC,QAAQ,GAAGJ,WAAW,EAAE;EAC9B,MAAMK,YAAY,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,YAAY,CAAC;EAC7D,MAAME,YAAY,GAAGN,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,YAAY,CAAC;EAE7D,eAAeC,YAAY,GAAG;IAC1B,IAAIC,MAAM,GAAG,MAAMP,OAAO,CAACQ,SAAS,CAACH,YAAY,CAACI,KAAK,EAAG,6BAA4B,EAAEN,YAAY,CAAC;IACrGD,QAAQ,CAAC;MAACQ,IAAI,EAAE,WAAW;MAAEC,OAAO,EAAE;QAACC,IAAI,EAAE,IAAI;QAAEC,IAAI,EAAEN,MAAM,CAACA;MAAM;IAAC,CAAC,CAAC;EAC7E;EAEA,oBACI;IAAA,WACKJ,YAAY,iBACT,QAAC,KAAK;MAAC,OAAO;MAAC,QAAQ;MAAC,KAAK;MAAC,UAAU;MAAA,wBACpC;QAAA,uBACA;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAuB,eACvB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAiB;QAAA;UAAA;UAAA;UAAA;QAAA;MAChB;QAAA;QAAA;QAAA;MAAA,QACG,eAER;QAAA,UACCA,YAAY,IAAIW,MAAM,CAACC,OAAO,CAACZ,YAAY,CAAC,CAACa,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,kBACzD;UAAA,wBACI;YAAI,KAAK,EAAC,KAAK;YAAA,UAAED,GAAG,CAAC,CAAC;UAAC;YAAA;YAAA;YAAA;UAAA,QAAM,eAC7B;YAAA,uBACI,QAAC,IAAI,CAAC,OAAO;cACT,EAAE,EAAC,UAAU;cACb,IAAI,EAAE,CAAE;cACR,KAAK,EAAEA,GAAG,CAAC,CAAC,CAAE;cACd,QAAQ,EAAEZ,YAAY,CAACc,IAAI,KAAK,SAAU;cAC1C,QAAQ,EACHC,CAAC,IAAKlB,QAAQ,CAAC;gBACZQ,IAAI,EAAE,qBAAqB;gBAC3BO,GAAG,EAAEA,GAAG,CAAC,CAAC,CAAC;gBACXC,KAAK,EAAEE,CAAC,CAACC,MAAM,CAACH;cACpB,CAAC;YACJ;cAAA;cAAA;cAAA;YAAA;UACH;YAAA;YAAA;YAAA;UAAA,QACD;QAAA,GAhBAD,GAAG,CAAC,CAAC,CAAC;UAAA;UAAA;UAAA;QAAA,QAiBV;MACR;QAAA;QAAA;QAAA;MAAA,QACO;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ,EAEXZ,YAAY,CAACc,IAAI,KAAK,SAAS,iBAC5B,QAAC,MAAM;MAAC,IAAI,EAAC,QAAQ;MAAC,OAAO,EAAC,iBAAiB;MAAC,SAAS,EAAC,KAAK;MAAC,OAAO,EAAE,MAAMb,YAAY,EAAG;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QACxE;EAAA,gBAE3B;AAEX,CAAC;AAAC,GAnDIL,YAAY;EAAA,QACGH,WAAW,EACPC,WAAW,EACXA,WAAW;AAAA;AAAA,KAH9BE,YAAY;AAqDlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}